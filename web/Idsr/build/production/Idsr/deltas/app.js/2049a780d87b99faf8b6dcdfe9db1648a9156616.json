["function _0f885a66b405d4f7f03e03b6312aaca0c6739fb2",50,5771,"ux.layout){Ext.ux.layout",5809,208,"dashboard){Idsr.view.dashboard",5999,1042493,1048492,1048576,2097068,118095,"Ext.ux.layout.ResponsiveColumn\",Ext.layout.container.Auto,{states:{small:1000,large:0},_responsiveCls:\"x-responsivecolumn\",initLayout:function(){this.innerCtCls+=\" \"+this._responsiveCls",1158602,37,1257276,44,"l){var e=this,d",1078749,34,"e.states,c=Infinity,h=e.innerCt,k=e._currentState,g,b,a;for(g in f){b=f[g]||Infinity;if(d<=b&&b<=c){c=b;a=g}}if(a!==k){h.replaceCls(k,a,e._responsiveCls);e._currentState=a}",1158603,36,963599,33,"},onAdd",922719,34,"Auto.prototype.onAdd.call(this,a);var b=a.responsiveCls;if(b){a.addCls(b)}}},0,0,0,0,[\"layout.responsivecolumn\"],0,[Ext.ux.layout,\"ResponsiveColumn\"],function(a){if(Ext.isIE8){a.override({responsiveSizePolicy",1753727,52,"0},setsItemSize:true,calculateItems:function(e,p){var c=this,f=e.targetContext,q=e.childItems,n=q.length,g=p.gotWidth,b=p.width,l,k,h,d,m,o;if(g===false){f.domBlock(c,\"width\");return false}if(!g){return true}for(h=0;h<n;++h){d=q[h];o=parseInt(d.el.getStyle(\"background-position-x\"),10);m=parseInt(d.el.getStyle(\"background-position-y\"),10);d.setWidth((o/100*(b-m))-m)}e.setContentWidth(b+e",919050,32,".width);return true},getItemSizePolicy:function(){return this.responsiveSizePolicy}})}}",2215143,929116,3144259,1048576,4192835,865250,"dashboard.Dashboard",5058112,36,2183370,128,",init:function(){this.fetchDashboardData()},fetchDashboardData:function(){this.fetchTileSummaries()},onColumnRender:function(a,d,b,c){return{fillStyle:this.colors[c],strokeStyle:c%2?\"none\":\"black\",opacity:c%2?1:0.5}},onRefreshToggle:function(a,c,d){var f,b;if(a.toggleValue){this.clearChartUpdates()}else{f=this.getStore(\"networkData\");if(f.getCount()){b=this.chartTaskRunner;if(!b){this.chartTaskRunner=b=new Ext.util.TaskRunner()}b.start({run:function(){var e=f.first();f.remove(e);f.add(e)},interval:200})}}a.toggleValue=!a.toggleValue},fetchTileSummaries:function(){var a=this",5212192,69,"dashboard/summary/tiles",5244706,32,"b,e){var d=Ext.JSON.decode(b.responseText);var c=d.data;a",5109919,34,"s\",c)},failure:function(b,c){}})},clearChartUpdates:function(){this.chartTaskRunner=Ext.destroy(this.chartTaskRunner)},destroy:function(){this.clearChartUpdates();",2198217,53,"onHideView:function(){this.clearChartUpdates()},onRefreshSubcountyToggle:function(){this.getViewModel().getStore(\"positivityChartSummary\").reload()},onBeforePositivitySummaryLoad",5211568,37,"positivitySummaryContainer\").mask(\"Loading\")},onAfterPositivitySummaryLoad",5211568,37,"positivitySummaryContainer\").unmask()}},0,0,0,0,[\"controller.dashboard\"],0,[Idsr.view.dashboard,\"Dashboard",5066512,44,"dashboard.Dashboard",5168864,34,"positivityChartSummary:{fields:[\"positivity_rate\",\"sub_county\"],autoLoad:true,proxy:{type:\"ajax\",useDefaultXhrHeader:false",5080352,51,"dashboard/positivityrate/top\",reader:{type:\"json\"}},listeners:{beforeload:\"onBeforePositivitySummaryLoad\",dataChanged:\"onAfterPositivitySummaryLoad\"}}},data:{weekThresholds:{epiWeek:'<i class=\"fa fa-spinner fa-spin\" aria-hidden=\"true\"></i>',malariaAction:'<i class=\"fa fa-spinner fa-spin\" aria-hidden=\"true\"></i>',malariaAlert:'<i class=\"fa fa-spinner fa-spin\" aria-hidden=\"true\"></i>',meningitisAction:'<i class=\"fa fa-spinner fa-spin\" aria-hidden=\"true\"></i>',meningitisAlert:'<i class=\"fa fa-spinner fa-spin\" aria-hidden=\"true\"></i>'}}},0,0,0,0,[\"viewmodel.dashboard\"],0,[Idsr.view.dashboard,\"Dashboard",5206784,39,"dashboard.Widgets\",Ext.Panel,{cls:\"dashboard-widget-block shadow\",bodyPadding:15,title:\"Widgets",5078336,39,"items:[{xtype:\"slider\",width:400,fieldLabel:\"Single Slider\",value:40},{xtype:\"tbspacer\",flex:0.3},{xtype:\"multislider\",width:400,fieldLabel:\"Range Slider\",values:[10,40]},{xtype:\"tbspacer\",flex:0.3},{xtype:\"pagingtoolbar\",width:360,displayInfo:false},{xtype:\"tbspacer\",flex:0.3},{xtype:\"progressbar\",cls:\"widget-progressbar\",value:0.4},{xtype:\"tbspacer\"}]},0,[\"dashboardwidgets",1556079,48,"dashboardwidgets",1840672,58,",dashboardwidgetspanel:true},[\"widget.dashboardwidgetspanel\"],0,[Idsr.view.dashboard,\"Widget",5206336,35,5058085,44938,5103035,43973,"multiSelect:true",5147007,21831,"Dashboard",2201798,39,"dashboard\",viewModel:{type:\"dashboard\"},layout:\"responsivecolumn\",listeners:{hide:\"onHideView\"},items:[{xtype:\"panel\",userCls:\"big-60 small-100\",cls:\"dashboard-main-chart shadow\",height:420,bodyPadding:15,title:\"Highest Recorded Positivity Rates",5078336,39,"tools:[{type:\"refresh\",toggleValue:false,listeners:{click:\"onRefreshSubcountyToggle\"}}]",5238464,34,"layout:\"fit\",reference:\"positivitySummaryContainer\",items:[{xtype:\"cartesian\",width:\"100%\",insetPadding:\"10px 10px 10px 10px\",bind:{store:\"{positivityChartSummary}\"},axes:[{type:\"numeric3d\",position:\"left\",grid:true,title:\"Positivity Rate\"},{type:\"category3d\",position:\"bottom\",grid:true,title:\"Sub-County\",label:{rotate:{degrees:-30}}}],series:[{type:\"bar3d\",axis:\"left\",xField:\"sub_county\",yField:\"collections\",label:{field:\"collections\",display:\"insideEnd\",r",1630790,43,"number(a,\"0,000\")}},highlight:{fillStyle:\"rgba(43, 130, 186, 1.0)\",strokeStyle:\"brown\",showStroke:true,lineWidth:2},renderer:\"onColumnRender\"}]}]}]},{xtype:\"panel\",userCls:\"big-40 small-100\",title:\"Epi week\",titleAlign:\"center\",ui:\"light\",iconCls:\"x-fa fa-pie-chart\",headerPosition:\"bottom\",cls:\"dashboard-tile shadow\",height:130,layout:\"fit\",bodyStyle:\"background:#33abaa; padding:10px;\",bind:{html:'<span class=\"main-txt\">{weekThresholds.epiWeek}</span>'}},{xtype:\"panel\",userCls:\"big-20 small-50\",title:\"Malaria Action Thresholds\",ui:\"light\",iconCls:\"x-fa fa-database\",headerPosition:\"bottom\",cls:\"dashboard-tile shadow\",height:130,layout:\"fit\",bodyStyle:\"background:#70bf73; padding:10px;\",bind:{html:'<span class=\"main-txt\">{weekThresholds.malariaAction}</span>'}},{xtype:\"panel\",userCls:\"big-20 small-50\",title:\"Malaria Alert Thresholds\",ui:\"light\",iconCls:\"x-fa fa-database\",headerPosition:\"bottom\",cls:\"dashboard-tile shadow\",height:130,layout:\"fit\",bodyStyle:\"background:#35baf6; padding:10px;\",bind:{html:'<span class=\"main-txt\">{weekThresholds.malariaAlert}</span>'}},{xtype:\"panel\",userCls:\"big-20 small-50\",title:\"Meningits Action Thresholds\",ui:\"light\",iconCls:\"x-fa fa-database\",headerPosition:\"bottom\",cls:\"dashboard-tile shadow\",height:130,layout:\"fit\",bodyStyle:\"background:#8561c5; padding:10px;\",bind:{html:'<span class=\"main-txt\">{weekThresholds.meningitisAction}</span>'}},{xtype:\"panel\",userCls:\"big-20 small-50\",title:\"Meningitis Alert Thresholds\",ui:\"light\",iconCls:\"x-fa fa-database\",headerPosition:\"bottom\",cls:\"dashboard-tile shadow\",height:130,layout:\"fit\",bodyStyle:\"background:#f1495b; padding:10px;\",bind:{html:'<span class=\"main-txt\">{weekThresholds.meningitisAlert}</span>'}}]},0,[\"admindashboard",1420560,35,"admindashboard",1069824,43,"admindashboard:true},[\"widget.admindashboard",5160304,35,"tracker,\"Dashboard",5081424,35,5169808,52,5168864,17008,",\"focal_person\",\"focal_person_tel",5185871,485,5211337,114,"this.getStore(\"subcountie",5211533,99,"getStore(\"subcounties\"",5233987,32,5186379,1170,",{text:\"Focal Person Name\",dataIndex:\"focal_person",5187383,60,"Contact\",dataIndex:\"focal_person_tel",5187003,44,",regex:/^07\\d{8}$/,regexText:\"This field should follow the format 07 followed by 8 digits\"}",5202333,58,5226407,100,5085855,325,5187549,46553,5234102,106589]